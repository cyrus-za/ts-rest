"use strict";(self.webpackChunkts_rest=self.webpackChunkts_rest||[]).push([[671],{3905:(t,e,n)=>{n.d(e,{Zo:()=>m,kt:()=>d});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=a.createContext({}),s=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},m=function(t){var e=s(t.components);return a.createElement(p.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),c=s(n),d=r,k=c["".concat(p,".").concat(d)]||c[d]||u[d]||l;return n?a.createElement(k,i(i({ref:e},m),{},{components:n})):a.createElement(k,i({ref:e},m))}));function d(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=c;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4896:(t,e,n)=>{n.r(e),n.d(e,{contentTitle:()=>p,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={sidebar_position:1},p="tRPC",s={unversionedId:"intro",id:"intro",title:"tRPC",description:"Motivation",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/docs/intro",editUrl:"https://github.com/ts-rest/ts-rest/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Create a Contract",permalink:"/docs/tutorial-contract/create-a-contract"}},m=[{value:"Motivation",id:"motivation",children:[],level:2},{value:"tRPC Comparison",id:"trpc-comparison",children:[],level:2},{value:"REST(ish) vs RPC",id:"restish-vs-rpc",children:[],level:2}],u={toc:m};function c(t){var e=t.components,n=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"trpc"},"tRPC"),(0,l.kt)("h2",{id:"motivation"},"Motivation"),(0,l.kt)("p",null,"ts-rest provides an RPC-like client side interface over your existing REST APIs, as well as allowing you define a ",(0,l.kt)("em",{parentName:"p"},"separate")," contract implementation rather than going for a 'implementation is the contract' approach, which is best suited for smaller or simpler APIs."),(0,l.kt)("p",null,"If you have non typescript consumers, a public API, or maybe want to add type safety to your existing REST API? ts-rest is what you're looking for!"),(0,l.kt)("h2",{id:"trpc-comparison"},"tRPC Comparison"),(0,l.kt)("p",null,"I ",(0,l.kt)("em",{parentName:"p"},"love")," ",(0,l.kt)("a",{parentName:"p",href:"https://trpc.io/"},"tRPC"),", ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/KATT"},"KATT (Alex Johansson)")," and all the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/trpc/trpc/graphs/contributors"},"other maintainers")," have done some amazing work, and for applications with a single Next.js app, or an express server only consumed by TRPC clients, I whole heartily recommend using tRPC! Also I have undoubtedly taken inspiration from tRPC for ts-rest."),(0,l.kt)("p",null,"One of the biggest differences between tRPC and ts-rest is that tRPC defines your API implementation ",(0,l.kt)("em",{parentName:"p"},"as the contract"),", for some use cases it is beneficial to have a separate contract to represent the API."),(0,l.kt)("p",null,'One example of this is with NX, in NX you can rebuild only "affected" packages, however, if you export your contract (e.g. tRPC) from the backend, your front end will need to be rebuilt as well. ts-rest negates this issue by allowing (in NX) for a library for the API contract to be created, this then means the only case in which the front and backend need to be rebuilt is when the contract changes.'),(0,l.kt)("h2",{id:"restish-vs-rpc"},"REST(ish) vs RPC"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"REST(ish)? REST is a term the industry (as a whole) has used incorrectly for many years now. In recent years, it is used as a synonym for HTTP requests over a API. ",(0,l.kt)("a",{parentName:"p",href:"https://htmx.org/essays/how-did-rest-come-to-mean-the-opposite-of-rest/"},"Read more here"))),(0,l.kt)("p",null,'ts-rest allows you design an API as you would "normally", e.g. GET, POST, PUT, DELETE etc. to ',(0,l.kt)("inlineCode",{parentName:"p"},"/posts"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"/posts/:id"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"/posts/:id/comments")," etc. whilst providing these endpoints to the client as RPC-type calls like ",(0,l.kt)("inlineCode",{parentName:"p"},'client.posts.getPost({ id: "1" })')," or ",(0,l.kt)("inlineCode",{parentName:"p"},"client.posts.getPostComments()")," in a fully type safe interface."),(0,l.kt)("p",null,"tRPC structures your API as RPC calls such as ",(0,l.kt)("inlineCode",{parentName:"p"},"/trpc/getPosts")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"/trpc/getPostComments")," etc, this provides an arguably simpler API for the client implementation, however, you loose the predictability of REST(ish) APIs if you have consumers who aren't in Typescript (able to us @ts-rest) or public consumers."),(0,l.kt)("p",null,"tRPC has many plugins to solve this issue by mapping the API implementation to a REST-like API, however, these approaches are often a bit clunky and reduce the safety of the system overall, ts-rest does this heavy lifting in the client and server implementations rather than requiring a second layer of abstraction and API endpoint(s) to be defined."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Features")),(0,l.kt)("th",{parentName:"tr",align:null},"REST"),(0,l.kt)("th",{parentName:"tr",align:null},"tRPC"),(0,l.kt)("th",{parentName:"tr",align:null},"tREST"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"E2E Type Safe"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Protocol"),(0,l.kt)("td",{parentName:"tr",align:null},"REST"),(0,l.kt)("td",{parentName:"tr",align:null},"RPC"),(0,l.kt)("td",{parentName:"tr",align:null},"REST")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Public API"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Zod/Yup/Joi"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\ud83c\udfd7 v1.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"WebSocket Support"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Cmd+Click Access"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\ud83c\udfd7 v10"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Separate Contract"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")))),(0,l.kt)("p",null,"ts-rest also supports ",(0,l.kt)("a",{parentName:"p",href:"https://nestjs.com/"},"Nest"),", it appears adding Nest to tRPC is against the Nest controller principles, so it is not recommended."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"Libraries Support")),(0,l.kt)("th",{parentName:"tr",align:null},"REST"),(0,l.kt)("th",{parentName:"tr",align:null},"tRPC"),(0,l.kt)("th",{parentName:"tr",align:null},"tREST"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Client fetch/custom"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Client react-query"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\ud83c\udfd7 v1.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Client swr"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705 (plugin)"),(0,l.kt)("td",{parentName:"tr",align:null},"\ud83c\udfd7 v1.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Server Express"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Server Nest"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Server Next"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"\ud83c\udfd7 v1.0")))))}c.isMDXComponent=!0}}]);